version: "2.0"
stories:
- story: intro
  steps:
  - intent: greet
  - action: utter_greet
- story: cancel out of product form
  steps:
  - intent: greet
  - action: utter_greet
  - intent: product_stock
  - action: utter_product_stock_start
  - action: product_stock_form
  - active_loop: product_stock_form
  - slot_was_set:
    - requested_slot: number
  - intent: deny
  - action: utter_greet

- story: switch from product stock to return form
  steps:
  - intent: greet
  - action: utter_greet
  - intent: product_stock
  - action: utter_product_stock_start
  - action: product_stock_form
  - active_loop: product_stock_form
  - slot_was_set:
    - requested_slot: number
  - intent: return
  - action: return_form
  - active_loop: return_form

- story: cancel out of return form
  steps:
  - intent: return
  - action: return_form
  - active_loop: return_form
  - slot_was_set:
    - requested_slot: email
  - intent: deny
  - action: utter_greet

- story: cancel out of product updates form
  steps:
  - intent: product_updates
  - action: product_updates_form
  - active_loop: product_updates_form
  - slot_was_set:
    - requested_slot: email
  - intent: deny
  - action: utter_greet

# - story: start return form, switch to product updates
#   steps:
#   - intent: return
#   - action: return_form
#   - active_loop: return_form
#   - slot_was_set:
#     - requested_slot: email
#   - intent: product_updates
#   - action: product_update_form

- story: start in inventory search and switch to product updates
  steps:
  - intent: product_stock
  - action: utter_product_stock_start
  - action: product_stock_form
  - active_loop: product_stock_form
  - slot_was_set:
    - requested_slot: number
  - intent: product_updates
  - action: product_updates_form
  - active_loop: product_updates_form

- story: product stock + faq digression
  steps:
  - intent: greet
  - action: utter_greet
  - intent: product_stock
  - action: utter_product_stock_start
  - action: product_stock_form
  - active_loop: product_stock_form
  - slot_was_set:
    - requested_slot: number
  - intent: faq
  - action: utter_faq
  - action: product_stock_form

- story: product stock + chitchat digression
  steps:
  - intent: product_stock
  - action: utter_product_stock_start
  - action: product_stock_form
  - active_loop: product_stock_form
  - slot_was_set:
    - requested_slot: number
  - intent: chitchat
  - action: utter_chitchat
  - action: product_stock_form

